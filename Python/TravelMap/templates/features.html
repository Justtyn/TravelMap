{% extends "base.html" %}
{% set title = "TravelMap · 功能总览" %}
{% set active = "features" %}
{% block content %}
<section class="hero">
  <p class="tagline">Capabilities</p>
  <h1>APP 功能矩阵</h1>
  <p>
    TravelMap 将核心文旅场景拆分为多个模块：内容（景点 / 商品）、用户旅程（收藏、去过、行程）、
    交易（购物车、订单）与接入能力（接口文档、种子数据）。以下为前端可直接消费的能力清单。
  </p>
</section>

<section class="grid">
  <article class="card">
    <h3>整体架构</h3>
    <ul class="list">
      <li>`MainActivity` 管理 Home / Mall / Booking / Map / My 五大 Tab。</li>
      <li>`BaseFeedFragment` 统一搜索框、骨架屏、Banner、空态。</li>
      <li>`AuthRepository` + `UserPreferences` 负责注册 / 登录 / 会话。</li>
    </ul>
  </article>

  <article class="card">
    <h3>首页 / 商城 / 预订</h3>
    <ul class="list">
      <li>Feed 卡片展示封面、经纬度、库存、评分，点击直达详情。</li>
      <li>商城 / 预订根据商品类型切换副标题，支持收藏与购物车。</li>
      <li>Dev Log 已规划地图化 Plan Tab 与详情页内嵌地图。</li>
    </ul>
  </article>

  <article class="card">
    <h3>旅程互动与地图</h3>
    <ul class="list">
      <li>收藏 / 去过实时同步详情页，支持 1~5 分评分与撤销。</li>
      <li>Plan Tab 将升级为高德 3D Map，展示全国景点 + 定位。</li>
      <li>行程计划 / Visited 数据可驱动足迹或路线规划页面。</li>
    </ul>
  </article>

  <article class="card">
    <h3>交易链路升级</h3>
    <ul class="list">
      <li>购物车返回 product 快照，截图展示最新 UI（数量增减 / 删除）。</li>
      <li>订单详情结构：order + items + product + 联系人 + 日期。</li>
      <li>示例订单数据写入 SQLite，可直接渲染列表与详情。</li>
    </ul>
  </article>

  <article class="card">
    <h3>部署与安装</h3>
    <ul class="list">
      <li>后端：<code>pip install -r requirements.txt && python app.py</code>。</li>
      <li>客户端：<code>./gradlew assembleDebug</code> 下载 APK / 真机调试。</li>
      <li>Dev Log 中附有 Issue / PR 流程及 smoke test 提醒。</li>
    </ul>
  </article>

  <article class="card">
    <h3>隐私与权限</h3>
    <ul class="list">
      <li>定位仅用于 Map Tab 展示当前位置，不上传云端。</li>
      <li>SharedPreferences 缓存登录态，退出即调用 <code>UserPreferences.clear()</code>。</li>
      <li>更多说明请查阅 <a href="{{ url_for('doc_view', filename='SOFTWARE_GUIDE.md') }}" target="_blank" rel="noopener">SOFTWARE_GUIDE.md</a>。</li>
    </ul>
  </article>
</section>
{% endblock %}
